pub event NetworkEvent {
    websocket_id: int,
    kind: NetworkEventKind,
    payload: int[]
}

pub enum NetworkEventKind {
    ConnectionOpen,
    ConnectionClosed,
    Message
}

pub fn decode_network_event_from_buffer(buffer: Buffer) -> NetworkEvent {
    NetworkEvent {
        websocket_id: buffer.read_unchecked(),
        kind: buffer.read_unchecked(),
        payload: buffer.read_buffer_unchecked()
    }
}